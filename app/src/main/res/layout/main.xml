<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
                xmlns:tools="http://schemas.android.com/tools"
                 xmlns:app = "http://schemas.android.com/apk/res-auto"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:background="@color/BackgroundColor" >
    <com.wangjie.rapidfloatingactionbutton.RapidFloatingActionLayout
        xmlns:rfal="http://schemas.android.com/apk/res-auto"
        android:id="@+id/label_list_sample_rfal"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        rfal:rfal_frame_color="#ffffff"
        rfal:rfal_frame_alpha="0.7"
        >
    <RelativeLayout
        android:id="@+id/rl_layout"
        android:layout_width="fill_parent"
        android:layout_height="55dp"
        android:background="@color/PrimaryColor"
        android:orientation="vertical"
        android:layout_alignParentTop="true"
        android:layout_alignParentStart="true">

        <LinearLayout
            android:id="@+id/btn_back"
            android:layout_width="40dp"
            android:layout_height="match_parent"
            android:layout_alignParentLeft="true"
            android:layout_centerVertical="true"
            android:layout_marginLeft="10dp"
            android:gravity="center"
            android:onClick="setting">

            <Button
                android:layout_width="20dp"
                android:layout_height="20dp"
                android:layout_centerVertical="true"
                android:background="@drawable/back_white"
                android:paddingLeft="10dp"
                android:textColor="#ffffff"
                android:textSize="16sp"/>
        </LinearLayout>

        <LinearLayout
            android:id="@+id/btn_tomap"
            android:layout_width="40dp"
            android:layout_height="match_parent"
            android:layout_toRightOf="@id/btn_back"
            android:layout_centerVertical="true"
            android:layout_marginLeft="10dp"
            android:gravity="center"
            android:visibility="gone">

            <Button
                android:layout_width="25dp"
                android:layout_height="25dp"
                android:layout_centerVertical="true"
                android:background="@drawable/tomap"
                android:paddingLeft="10dp"
                android:textColor="#ffffff"
                android:textSize="16sp"/>
        </LinearLayout>

        <TextView
            android:id="@+id/channel_name"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_centerInParent="true"
            android:text="御坂美琴"
            android:textColor="#ffffff"
            android:textSize="@dimen/NavigationTittleSize" />
        <LinearLayout
            android:layout_width="wrap_content"
            android:layout_height="match_parent"
            android:layout_alignRight="@+id/btn_more"
            android:layout_marginRight="50dp"
            android:onClick="setVoiceState"
            >
            <ImageView
                android:id="@+id/voice"
                android:layout_centerVertical="true"
                android:layout_width="20dp"
                android:layout_height="20dp"
                android:background="@drawable/voice"
                android:layout_gravity="center"
                />
        </LinearLayout>
        <LinearLayout
            android:layout_width="40dp"
            android:layout_height="match_parent"
            android:layout_alignParentRight="true"
            android:layout_centerVertical="true"
            android:id="@+id/btn_more"
            android:onClick="setting"
            android:gravity="center"
            android:layout_marginRight="10dp"            >
            <Button
                android:gravity="center"
                android:layout_gravity="center_horizontal|center_vertical"
                android:layout_width="20dp"
                android:layout_height="20dp"
                android:background="@drawable/setting"
                android:textColor="#ffffff"
                android:textSize="16sp" />
        </LinearLayout>


    </RelativeLayout>

    <RelativeLayout
        android:visibility="gone"
        android:id="@+id/rl_bottom"
        android:layout_width="fill_parent"
        android:layout_height="60dp"
        android:layout_alignParentBottom="true"
        android:background="@color/BackgroundColor" >

        <Button
            android:id="@+id/btn_send"
            android:layout_width="80dp"
            android:layout_height="40dp"
            android:layout_alignParentRight="true"
            android:layout_centerVertical="true"
            android:layout_marginRight="10dp"
            android:text="发送" />

        <EditText
            android:id="@+id/et_sendmessage"
            android:layout_width="fill_parent"
            android:layout_height="40dp"
            android:layout_centerVertical="true"
            android:layout_marginLeft="10dp"
            android:layout_marginRight="10dp"
            android:layout_toLeftOf="@id/btn_send"
            android:background="@drawable/edittext1"
            android:singleLine="true"
            android:textSize="18sp" />
    </RelativeLayout>
    <LinearLayout
        android:id="@+id/whospeaking"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:layout_below="@+id/rl_layout"
        android:layout_centerHorizontal="true"
        android:layout_marginTop="10dp"
        android:gravity="center"
        android:visibility="gone"
        >
        <LinearLayout
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_centerHorizontal="true"
            >
        <com.example.tr.tourhear.view.CircleImageView
            android:layout_width="20dp"
            android:layout_height="20dp"
            android:src="@drawable/timg"
            android:id="@+id/speacker_headportrait"
            />
        <ImageView
            android:layout_marginLeft="10dp"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:src="@drawable/info_voice"
            />
        </LinearLayout>
        <TextView
            android:id="@+id/name"
            android:layout_marginTop="5dp"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:textStyle="italic"
            android:text="xxx正在说话..."
            />
    </LinearLayout>
    <ListView
        android:id="@+id/listview"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_above="@+id/img"
        android:layout_below="@id/whospeaking"
        android:layout_marginLeft="10.0dip"
        android:layout_marginRight="10.0dip"
        android:layout_marginTop="10.0dip"
        android:cacheColorHint="#00000000"
        android:divider="@null"
        android:dividerHeight="5dp"
        android:scrollbars="none" />
    <ImageView
        android:id="@+id/img"
        android:layout_width="match_parent"
        android:layout_height="1dp"
        android:background="@color/white"
        android:layout_above="@+id/bottom"
        />
    <LinearLayout
        android:id="@+id/bottom"
        android:layout_width="match_parent"
        android:layout_height="60dp"
        android:orientation="horizontal"
        android:layout_alignParentBottom="true"
        android:background="@color/white"
        android:gravity="center"
        >
        <ImageView
            android:id="@+id/icon_voice"
            android:layout_gravity="center"
            android:layout_width="40dp"
            android:layout_height="40dp"
            android:background="@drawable/tab_message"
            />
        <TextView
            android:id="@+id/btn_speak"
            android:layout_width="wrap_content"
            android:layout_height="match_parent"
            android:text="按住说话"
            android:layout_weight="1"
            android:gravity="center"
            />
        <LinearLayout
            android:layout_width="60dp"
            android:layout_height="match_parent"
            android:background="@color/PrimaryColor"
            android:layout_gravity="center"
            android:gravity="center"
            android:id="@+id/send_others"
            android:visibility="visible"
            >
            <TextView
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                />
        </LinearLayout>
    </LinearLayout>
    <com.lilei.springactionmenu.ActionMenu
        android:id="@+id/expanded_menu"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        app:circleRadius="30dp"
        app:animationDuration="3000"
        android:layout_marginRight="-15dp"
        android:layout_alignParentRight="true"
        android:layout_alignParentBottom="true"
        app:buttonNormalColor="@color/PrimaryColor"
        app:buttonPressColor="@color/PrimaryColor"
        app:actionMenuIcon="@mipmap/menu_add_open"
        app:actionMenuOnIcon="@mipmap/menu_add_close"
        android:visibility="gone"
        />
        <!-- 阴影
                rfab:rfab_shadow_radius="7dp"
                rfab:rfab_shadow_color="#999999"
                rfab:rfab_shadow_dx="0dp"
                rfab:rfab_shadow_dy="5dp"
                -->
    <com.wangjie.rapidfloatingactionbutton.RapidFloatingActionButton
        xmlns:rfab="http://schemas.android.com/apk/res-auto"
        android:id="@+id/add_menu"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        rfab:rfab_drawable="@mipmap/menu_add_open"
        rfab:rfab_color_normal="@color/PrimaryColor"
        rfab:rfab_color_pressed="@color/infosColor"
        android:layout_alignParentRight="true"
        android:layout_alignParentBottom="true"
        >

    </com.wangjie.rapidfloatingactionbutton.RapidFloatingActionButton>
    </com.wangjie.rapidfloatingactionbutton.RapidFloatingActionLayout>
</RelativeLayout>